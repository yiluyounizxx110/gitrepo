<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>编辑页</title>
		<link rel="stylesheet" href="css/index.css" />
	</head>
	<body>
		<div class="top">
			<div class="logo"></div>
			<ul class="main_links">
				<li><a href="javascript:void(0)">系统</a></li>
				<li><a href="javascript:void(0)">商品</a></li>
				<li><a href="javascript:void(0)">文章</a></li>
				<li><a href="javascript:void(0)">前台</a></li>
			</ul>	
			<div class="user_info">
				<span class="user_info_desc"><span class="user_name cur">Lucky</span><span>欢迎你</span></span>
				<span class="user_info_msg cur">
					<span class="user_msg_num">10</span>
					<ul class="user_msg_list">
						<li class="user_msg_item space">
							<div></div>
						</li>	
						<li class="user_msg_item clear">
							<span class="msg_icon order_icon left"><i></i></span>
							<span class="msg_title left">订单有6笔新订单</span>
							<span class="msg_time left">10分钟前</span>
						</li>
						<li class="user_msg_item clear">
							<span class="msg_icon info_icon left"><i></i></span>
							<span class="msg_title left">有3个来自人事内部的消息</span>
							<span class="msg_time left">16分钟前</span>
						</li>
						<li class="user_msg_item clear">
							<span class="msg_icon meeting_icon left"><i></i></span>
							<span class="msg_title left">上午开会消息存档</span>
							<span class="msg_time left">15分钟前</span>
						</li>
						<li class="user_msg_item">
							<span class="enter_list clear"><i class="left"></i><span class="left">进入列表...</span></span>
						</li>
					</ul>
				</span>
				<a class="exit" href="javascript:void(0);">退出</a>
			</div>
		</div>
		<div class="main">
			<div class="nav_tree">
				<div class="user_info_detail">
					<img class="user_icon" src="img/head.png"/>
					<span class="user_name_left">Lucky</span>
				</div>
				<div class="nav_tree_list">
					<div class="menue up">
						<div class="p_menue cur">系统首页</div>
						<div class="c_menue">
							<div class="c_menue_item cur"><a href="#">自定义回复</a></div>
							<div class="c_menue_item cur"><a href="#">关键词管理</a></div>
							<div class="c_menue_item cur"><a href="#">文本回复</a></div>
							<div class="c_menue_item cur"><a href="#">图文回复</a></div>
						</div>
					</div>
					<div class="menue up">
						<div class="p_menue cur">页面跳转</div>
						<div class="c_menue">
							<div class="c_menue_item cur list_page"><a href="#">列表页</a></div>
							<div class="c_menue_item cur edit_page"><a href="#">编辑页</a></div>
						</div>
					</div>
					<div class="menue up">
						<div class="p_menue cur">页面跳转</div>
						<div class="c_menue">
							<div class="c_menue_item cur list_page"><a href="#">列表页</a></div>
							<div class="c_menue_item cur edit_page"><a href="#">编辑页</a></div>
						</div>
					</div>
					<div class="menue up">
						<div class="p_menue cur">页面跳转</div>
						<div class="c_menue">
							<div class="c_menue_item cur list_page"><a href="#">列表页</a></div>
							<div class="c_menue_item cur edit_page"><a href="#">编辑页</a></div>
						</div>
					</div>
				</div>
			</div>
			<div class="content none">
				<div class="tips_msg">保存成功<span class="close_tips"></span></div>
				
				<div class="edit_box">
					<div class="edit_title">编辑属性</div>
					<div class="edit_tab">
						<div class="tab_option on">基础</div>
						<div class="tab_option">高级</div>
					</div>
					<div class="edit_content">
						<div class="edit_content_tab">
							<div class="input_title">标题Title<span>(退货说明)</span></div>
							<input type="text" class="input_box"/>
							
							<div class="input_title">属性列表<span>(所属分类)</span></div>
							<input type="text" class="input_box"/>
							
							<div class="upload_div">
								<div class="input_title">图片<span>(图片名称)</span></div>
								<div class="upload_btn_group">
									<div class="upload_btn">上传图片</div>
									<input type="file" class="upload_file"/>
								</div>
								<div class="upload_imgs">
									<span class="upload_imgs_wrap">
										<img src="img/img.jpg"/>
										<span class="close_img"></span>
									</span>
									
								</div>
							</div>
						</div>
						<div class="edit_content_tab none">
							<div class="input_title">高级标题Title<span>(退货说明)</span></div>
							<input type="text" class="input_box"/>
							
							<div class="input_title">高级属性列表<span>(所属分类)</span></div>
							<input type="text" class="input_box"/>
							
							<div class="upload_div">
								<div class="upload_btn_group">
									<div class="upload_btn">上传图片</div>
									<input type="file" class="upload_file"/>
								</div>
								<div class="upload_imgs">
									<img src="img/img.jpg"/>
								</div>
							</div>
						</div>
						<div class="btn_group">
							<div class="confirm_btn">确认</div>
							<div class="cancel_btn">返回</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="copyright left">
			版权所有：yershop@2001-2015武汉华亿思科技有限公司.Powered by yershop.com
		</div>
		<script type="text/javascript" src="js/jquery-1.11.3.min.js" ></script>
		<script>
			$(function(){
				initPage();
				window.onresize=function(){
					initPage();
				}
				bindEvent();
			});
			
			function initPage(){
				var contentWidth = $(window).width() -261;
				$(".content").width(contentWidth);
				$(".nav_tree").css("min-height",($(window).height() - 86) + 'px');
				$(".content").css("min-height",($(window).height() - 86) + 'px');
				$(".nav_tree").attr("min-height",$(window).height() - 86);
				$(".content").attr("min-height",$(window).height() - 86);
				
				$(".edit_box").css("width",($(window).width() - 271) + 'px');
				$(".content").removeClass("none");
				var currentRightHeight = $(".content").height();
				var currentNavHeight = $(".nav_tree").height();
				if(currentRightHeight < currentNavHeight){
					if($(".tips_msg:hidden").length > 0){
						$(".edit_box").css("height",$(".content").height() + (currentNavHeight - currentRightHeight));
					}else{
						$(".edit_box").css("height",$(".edit_box").height() + (currentNavHeight - currentRightHeight));
					}
				}else{
					$(".nav_tree").css("min-height",$(".nav_tree").height() + (currentRightHeight - currentNavHeight));
				}
			}
			
			function bindEvent(){
				$(".p_menue").on('click',function(){
					if($(this).parent(".menue").hasClass("down")){
						$(this).parent(".menue").removeClass("down").addClass("up");
					}else{
						$(this).parent(".menue").removeClass("up").addClass("down");
					}
					calculateHeight();
				});
				$(".c_menue_item").on("click",function(){
					if(!$(this).hasClass("checked")){
						$(".nav_tree_list .c_menue_item").removeClass("checked");
						$(this).addClass("checked");
					}
				})
				$(".close_tips").click(function(){
					$(".tips_msg").hide();
					calculateHeight();
				});
				$(".tab_option").click(function(){
					if(!$(this).hasClass("on")){
						var index = $(".tab_option").index($(this));
						$($(".edit_content_tab").get(index)).removeClass("none").siblings(".edit_content_tab").addClass("none");
						$(this).addClass("on").siblings().removeClass("on");
					}
					calculateHeight();
				});
			}
			
			function calculateHeight(){
				var currentRightHeight = $(".content").height();
				var currentNavHeight = $(".nav_tree").height();
				if(currentRightHeight < currentNavHeight){
					if($(".tips_msg:hidden").length > 0){
						$(".edit_box").css("height",$(".content").height() + (currentNavHeight - currentRightHeight));
					}else{
						$(".edit_box").css("height",$(".edit_box").height() + (currentNavHeight - currentRightHeight));
					}
				}else{
					if(currentNavHeight > $(".nav_tree").attr("min-height")){
						$(".edit_box").css("height",$(".edit_box").height() + (currentNavHeight - currentRightHeight));
					}else{
						$(".edit_box").css("height",$(".edit_box").height() + ( $(".nav_tree").attr("min-height") - currentRightHeight));
					}
				}
			}
		</script>
	</body>
</html>
